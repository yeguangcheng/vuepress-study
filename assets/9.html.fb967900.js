import{r as e,o,c,a as n,b as p,F as l,e as s,d as t}from"./app.b87228d2.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const r={},i=n("h2",{id:"js-\u539F\u578B\u94FE\u4E0E\u7EE7\u627F\u522B\u518D\u88AB\u95EE\u5012\u4E86",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#js-\u539F\u578B\u94FE\u4E0E\u7EE7\u627F\u522B\u518D\u88AB\u95EE\u5012\u4E86","aria-hidden":"true"},"#"),s(" JS \u539F\u578B\u94FE\u4E0E\u7EE7\u627F\u522B\u518D\u88AB\u95EE\u5012\u4E86")],-1),k=s("\u6211\u9762\u8BD5\u8FC7\u5F88\u591A\u540C\u5B66\uFF0C\u5176\u4E2D\u80FD\u628A\u539F\u578B\u7EE7\u627F\u8BB2\u660E\u767D\u7684\u5BE5\u5BE5\u65E0\u51E0\uFF0C\u80FD\u628A new \u64CD\u4F5C\u7B26\u8BB2\u660E\u767D\u7684\u5C31\u66F4\u5C11\u4E86\u3002\u5E0C\u671B\u8FD9\u7BC7\u6587\u7AE0\u80FD\u591F\u89E3\u51B3\u4F60\u7684\u7591\u60D1\uFF0C\u5E26\u4F60\u9762\u8BD5\u98DE\u8D77\u6765\u3002 \u539F\u6587\uFF1A"),b={href:"https://link.juejin.cn/?target=http%3A%2F%2Flouiszhai.github.io%2F2015%2F12%2F15%2FprototypeChain%2F",title:"http://louiszhai.github.io/2015/12/15/prototypeChain/",target:"_blank",rel:"noopener noreferrer"},d=s("\u8BE6\u89E3 JS \u539F\u578B\u94FE\u4E0E\u7EE7\u627F"),m=t(`<h3 id="\u6458\u81EA-javascript-\u9AD8\u7EA7\u7A0B\u5E8F\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u6458\u81EA-javascript-\u9AD8\u7EA7\u7A0B\u5E8F\u8BBE\u8BA1" aria-hidden="true">#</a> \u6458\u81EA JavaScript \u9AD8\u7EA7\u7A0B\u5E8F\u8BBE\u8BA1:</h3><p>\u7EE7\u627F\u662F OO \u8BED\u8A00\u4E2D\u7684\u4E00\u4E2A\u6700\u4E3A\u4EBA\u6D25\u6D25\u4E50\u9053\u7684\u6982\u5FF5.\u8BB8\u591A OO \u8BED\u8A00\u90FD\u652F\u6301\u4E24\u79CD\u7EE7\u627F\u65B9\u5F0F: <strong>\u63A5\u53E3\u7EE7\u627F</strong> \u548C <strong>\u5B9E\u73B0\u7EE7\u627F</strong> .\u63A5\u53E3\u7EE7\u627F\u53EA\u7EE7\u627F\u65B9\u6CD5\u7B7E\u540D,\u800C\u5B9E\u73B0\u7EE7\u627F\u5219\u7EE7\u627F\u5B9E\u9645\u7684\u65B9\u6CD5.\u7531\u4E8E js \u4E2D\u65B9\u6CD5\u6CA1\u6709\u7B7E\u540D,\u5728 ECMAScript \u4E2D\u65E0\u6CD5\u5B9E\u73B0\u63A5\u53E3\u7EE7\u627F.ECMAScript \u53EA\u652F\u6301\u5B9E\u73B0\u7EE7\u627F,\u800C\u4E14\u5176 <code>\u5B9E\u73B0\u7EE7\u627F</code> \u4E3B\u8981\u662F\u4F9D\u9760\u539F\u578B\u94FE\u6765\u5B9E\u73B0\u7684.</p><h3 id="\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u6982\u5FF5" aria-hidden="true">#</a> \u6982\u5FF5</h3><p>\u7B80\u5355\u56DE\u987E\u4E0B\u6784\u9020\u51FD\u6570,\u539F\u578B\u548C\u5B9E\u4F8B\u7684\u5173\u7CFB:</p><blockquote><p>\u6BCF\u4E2A\u6784\u9020\u51FD\u6570(constructor)\u90FD\u6709\u4E00\u4E2A\u539F\u578B\u5BF9\u8C61(prototype),\u539F\u578B\u5BF9\u8C61\u90FD\u5305\u542B\u4E00\u4E2A\u6307\u5411\u6784\u9020\u51FD\u6570\u7684\u6307\u9488,\u800C\u5B9E\u4F8B(instance)\u90FD\u5305\u542B\u4E00\u4E2A\u6307\u5411\u539F\u578B\u5BF9\u8C61\u7684\u5185\u90E8\u6307\u9488.</p></blockquote><p>JS \u5BF9\u8C61\u7684\u5708\u5B50\u91CC\u6709\u8FD9\u4E48\u4E2A\u6E38\u620F\u89C4\u5219:</p><blockquote><p>\u5982\u679C\u8BD5\u56FE\u5F15\u7528\u5BF9\u8C61(\u5B9E\u4F8B instance)\u7684\u67D0\u4E2A\u5C5E\u6027,\u4F1A\u9996\u5148\u5728\u5BF9\u8C61\u5185\u90E8\u5BFB\u627E\u8BE5\u5C5E\u6027,\u76F4\u81F3\u627E\u4E0D\u5230,\u7136\u540E\u624D\u5728\u8BE5\u5BF9\u8C61\u7684\u539F\u578B(instance.prototype)\u91CC\u53BB\u627E\u8FD9\u4E2A\u5C5E\u6027.</p></blockquote><p>\u5982\u679C\u8BA9\u539F\u578B\u5BF9\u8C61\u6307\u5411\u53E6\u4E00\u4E2A\u7C7B\u578B\u7684\u5B9E\u4F8B.....\u6709\u8DA3\u7684\u4E8B\u60C5\u4FBF\u53D1\u751F\u4E86.</p><p>\u5373: constructor1.prototype = instance2</p><p>\u9274\u4E8E\u4E0A\u8FF0\u6E38\u620F\u89C4\u5219\u751F\u6548,\u5982\u679C\u8BD5\u56FE\u5F15\u7528 constructor1 \u6784\u9020\u7684\u5B9E\u4F8B instance1 \u7684\u67D0\u4E2A\u5C5E\u6027 p1:</p><p>1).\u9996\u5148\u4F1A\u5728 instance1 \u5185\u90E8\u5C5E\u6027\u4E2D\u627E\u4E00\u904D;</p><p>2).\u63A5\u7740\u4F1A\u5728 instance1.__proto__(constructor1.prototype)\u4E2D\u627E\u4E00\u904D,\u800C constructor1.prototype \u5B9E\u9645\u4E0A\u662F instance2, \u4E5F\u5C31\u662F\u8BF4\u5728 instance2 \u4E2D\u5BFB\u627E\u8BE5\u5C5E\u6027 p1;</p><p>3).\u5982\u679C instance2 \u4E2D\u8FD8\u662F\u6CA1\u6709,\u6B64\u65F6\u7A0B\u5E8F\u4E0D\u4F1A\u7070\u5FC3,\u5B83\u4F1A\u7EE7\u7EED\u5728 instance2.__proto__(constructor2.prototype)\u4E2D\u5BFB\u627E...\u76F4\u81F3 Object \u7684\u539F\u578B\u5BF9\u8C61</p><blockquote><p>\u641C\u7D22\u8F68\u8FF9: instance1--&gt; instance2 --&gt; constructor2.prototype\u2026--&gt;Object.prototype</p></blockquote><p>\u8FD9\u79CD\u641C\u7D22\u7684\u8F68\u8FF9,\u5F62\u4F3C\u4E00\u6761\u957F\u94FE, \u53C8\u56E0 prototype \u5728\u8FD9\u4E2A\u6E38\u620F\u89C4\u5219\u4E2D\u5145\u5F53\u94FE\u63A5\u7684\u4F5C\u7528,\u4E8E\u662F\u6211\u4EEC\u628A\u8FD9\u79CD\u5B9E\u4F8B\u4E0E\u539F\u578B\u7684\u94FE\u6761\u79F0\u4F5C <strong>\u539F\u578B\u94FE</strong> . \u4E0B\u9762\u6709\u4E2A\u4F8B\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getFatherValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sonProperty <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u7EE7\u627F Father</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Son.prototype\u88AB\u91CD\u5199,\u5BFC\u81F4Son.prototype.constructor\u4E5F\u4E00\u540C\u88AB\u91CD\u5199</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getSonVaule</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sonProperty
<span class="token punctuation">}</span>
<span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getFatherValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>instance \u5B9E\u4F8B\u901A\u8FC7\u539F\u578B\u94FE\u627E\u5230\u4E86 Father \u539F\u578B\u4E2D\u7684 getFatherValue \u65B9\u6CD5.</p><p>\u6CE8\u610F: \u6B64\u65F6 instance.constructor \u6307\u5411\u7684\u662F Father,\u8FD9\u662F\u56E0\u4E3A Son.prototype \u4E2D\u7684 constructor \u88AB\u91CD\u5199\u7684\u7F18\u6545.</p><p>\u4EE5\u4E0A\u6211\u4EEC\u5F04\u6E05\u695A\u4E86\u4F55\u4E3A\u539F\u578B\u94FE,\u5982\u6709\u4E0D\u6E05\u695A\u8BF7\u5C3D\u91CF\u5728\u4E0B\u65B9<a href="about:blank#respond" title="#respond">\u7ED9\u6211\u7559\u8A00</a></p><hr><h3 id="\u786E\u5B9A\u539F\u578B\u548C\u5B9E\u4F8B\u7684\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u786E\u5B9A\u539F\u578B\u548C\u5B9E\u4F8B\u7684\u5173\u7CFB" aria-hidden="true">#</a> \u786E\u5B9A\u539F\u578B\u548C\u5B9E\u4F8B\u7684\u5173\u7CFB</h3><p>\u4F7F\u7528\u539F\u578B\u94FE\u540E, \u6211\u4EEC\u600E\u4E48\u53BB\u5224\u65AD\u539F\u578B\u548C\u5B9E\u4F8B\u7684\u8FD9\u79CD\u7EE7\u627F\u5173\u7CFB\u5462? \u65B9\u6CD5\u4E00\u822C\u6709\u4E24\u79CD.</p><blockquote><p>\u7B2C\u4E00\u79CD\u662F\u4F7F\u7528 <strong>instanceof</strong> \u64CD\u4F5C\u7B26, \u53EA\u8981\u7528\u8FD9\u4E2A\u64CD\u4F5C\u7B26\u6765\u6D4B\u8BD5\u5B9E\u4F8B(instance)\u4E0E\u539F\u578B\u94FE\u4E2D\u51FA\u73B0\u8FC7\u7684\u6784\u9020\u51FD\u6570,\u7ED3\u679C\u5C31\u4F1A\u8FD4\u56DE true. \u4EE5\u4E0B\u51E0\u884C\u4EE3\u7801\u5C31\u8BF4\u660E\u4E86\u8FD9\u70B9.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Father</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Son</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u7531\u4E8E\u539F\u578B\u94FE\u7684\u5173\u7CFB, \u6211\u4EEC\u53EF\u4EE5\u8BF4 instance \u662F Object, Father \u6216 Son \u4E2D\u4EFB\u4F55\u4E00\u4E2A\u7C7B\u578B\u7684\u5B9E\u4F8B. \u56E0\u6B64, \u8FD9\u4E09\u4E2A\u6784\u9020\u51FD\u6570\u7684\u7ED3\u679C\u90FD\u8FD4\u56DE\u4E86 true.</p><blockquote><p>\u7B2C\u4E8C\u79CD\u662F\u4F7F\u7528 <strong>isPrototypeOf()</strong> \u65B9\u6CD5, \u540C\u6837\u53EA\u8981\u662F\u539F\u578B\u94FE\u4E2D\u51FA\u73B0\u8FC7\u7684\u539F\u578B,isPrototypeOf() \u65B9\u6CD5\u5C31\u4F1A\u8FD4\u56DE true, \u5982\u4E0B\u6240\u793A.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u539F\u7406\u540C\u4E0A.</p><h3 id="\u539F\u578B\u94FE\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u539F\u578B\u94FE\u7684\u95EE\u9898" aria-hidden="true">#</a> \u539F\u578B\u94FE\u7684\u95EE\u9898</h3><p>\u539F\u578B\u94FE\u5E76\u975E\u5341\u5206\u5B8C\u7F8E, \u5B83\u5305\u542B\u5982\u4E0B\u4E24\u4E2A\u95EE\u9898.</p><blockquote><p>\u95EE\u9898\u4E00: \u5F53\u539F\u578B\u94FE\u4E2D\u5305\u542B\u5F15\u7528\u7C7B\u578B\u503C\u7684\u539F\u578B\u65F6,\u8BE5\u5F15\u7528\u7C7B\u578B\u503C\u4F1A\u88AB\u6240\u6709\u5B9E\u4F8B\u5171\u4EAB;</p><p>\u95EE\u9898\u4E8C: \u5728\u521B\u5EFA\u5B50\u7C7B\u578B(\u4F8B\u5982\u521B\u5EFA Son \u7684\u5B9E\u4F8B)\u65F6,\u4E0D\u80FD\u5411\u8D85\u7C7B\u578B(\u4F8B\u5982 Father)\u7684\u6784\u9020\u51FD\u6570\u4E2D\u4F20\u9012\u53C2\u6570.</p></blockquote><p>\u6709\u9274\u4E8E\u6B64, \u5B9E\u8DF5\u4E2D\u5F88\u5C11\u4F1A\u5355\u72EC\u4F7F\u7528\u539F\u578B\u94FE.</p><p>\u4E3A\u6B64,\u4E0B\u9762\u5C06\u6709\u4E00\u4E9B\u5C1D\u8BD5\u4EE5\u5F25\u8865\u539F\u578B\u94FE\u7684\u4E0D\u8DB3.</p><h3 id="\u501F\u7528\u6784\u9020\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u501F\u7528\u6784\u9020\u51FD\u6570" aria-hidden="true">#</a> \u501F\u7528\u6784\u9020\u51FD\u6570</h3><p>\u4E3A\u89E3\u51B3\u539F\u578B\u94FE\u4E2D\u4E0A\u8FF0\u4E24\u4E2A\u95EE\u9898, \u6211\u4EEC\u5F00\u59CB\u4F7F\u7528\u4E00\u79CD\u53EB\u505A<strong>\u501F\u7528\u6784\u9020\u51FD\u6570</strong>(constructor stealing)\u7684\u6280\u672F(\u4E5F\u53EB\u7ECF\u5178\u7EE7\u627F).</p><blockquote><p>\u57FA\u672C\u601D\u60F3:\u5373\u5728\u5B50\u7C7B\u578B\u6784\u9020\u51FD\u6570\u7684\u5185\u90E8\u8C03\u7528\u8D85\u7C7B\u578B\u6784\u9020\u51FD\u6570.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//\u7EE7\u627F\u4E86Father,\u4E14\u5411\u7236\u7C7B\u578B\u4F20\u9012\u53C2\u6570</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green,black&quot;</span>

<span class="token keyword">var</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green&quot; \u53EF\u89C1\u5F15\u7528\u7C7B\u578B\u503C\u662F\u72EC\u7ACB\u7684</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u5F88\u660E\u663E,\u501F\u7528\u6784\u9020\u51FD\u6570\u4E00\u4E3E\u89E3\u51B3\u4E86\u539F\u578B\u94FE\u7684\u4E24\u5927\u95EE\u9898:</p><p>\u5176\u4E00, \u4FDD\u8BC1\u4E86\u539F\u578B\u94FE\u4E2D\u5F15\u7528\u7C7B\u578B\u503C\u7684\u72EC\u7ACB,\u4E0D\u518D\u88AB\u6240\u6709\u5B9E\u4F8B\u5171\u4EAB;</p><p>\u5176\u4E8C, \u5B50\u7C7B\u578B\u521B\u5EFA\u65F6\u4E5F\u80FD\u591F\u5411\u7236\u7C7B\u578B\u4F20\u9012\u53C2\u6570.</p><p>\u968F\u4E4B\u800C\u6765\u7684\u662F, \u5982\u679C\u4EC5\u4EC5\u501F\u7528\u6784\u9020\u51FD\u6570,\u90A3\u4E48\u5C06\u65E0\u6CD5\u907F\u514D\u6784\u9020\u51FD\u6570\u6A21\u5F0F\u5B58\u5728\u7684\u95EE\u9898--\u65B9\u6CD5\u90FD\u5728\u6784\u9020\u51FD\u6570\u4E2D\u5B9A\u4E49, \u56E0\u6B64\u51FD\u6570\u590D\u7528\u4E5F\u5C31\u4E0D\u53EF\u7528\u4E86.\u800C\u4E14\u8D85\u7C7B\u578B(\u5982 Father)\u4E2D\u5B9A\u4E49\u7684\u65B9\u6CD5,\u5BF9\u5B50\u7C7B\u578B\u800C\u8A00\u4E5F\u662F\u4E0D\u53EF\u89C1\u7684. \u8003\u8651\u6B64,\u501F\u7528\u6784\u9020\u51FD\u6570\u7684\u6280\u672F\u4E5F\u5F88\u5C11\u5355\u72EC\u4F7F\u7528.</p><h3 id="\u7EC4\u5408\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u5408\u7EE7\u627F" aria-hidden="true">#</a> \u7EC4\u5408\u7EE7\u627F</h3><p>\u7EC4\u5408\u7EE7\u627F, \u6709\u65F6\u5019\u4E5F\u53EB\u505A\u4F2A\u7ECF\u5178\u7EE7\u627F,\u6307\u7684\u662F\u5C06\u539F\u578B\u94FE\u548C\u501F\u7528\u6784\u9020\u51FD\u6570\u7684\u6280\u672F\u7EC4\u5408\u5230\u4E00\u5757,\u4ECE\u800C\u53D1\u6325\u4E24\u8005\u4E4B\u957F\u7684\u4E00\u79CD\u7EE7\u627F\u6A21\u5F0F.</p><blockquote><p>\u57FA\u672C\u601D\u8DEF: \u4F7F\u7528\u539F\u578B\u94FE\u5B9E\u73B0\u5BF9\u539F\u578B\u5C5E\u6027\u548C\u65B9\u6CD5\u7684\u7EE7\u627F,\u901A\u8FC7\u501F\u7528\u6784\u9020\u51FD\u6570\u6765\u5B9E\u73B0\u5BF9\u5B9E\u4F8B\u5C5E\u6027\u7684\u7EE7\u627F.</p></blockquote><p>\u8FD9\u6837,\u65E2\u901A\u8FC7\u5728\u539F\u578B\u4E0A\u5B9A\u4E49\u65B9\u6CD5\u5B9E\u73B0\u4E86\u51FD\u6570\u590D\u7528,\u53C8\u80FD\u4FDD\u8BC1\u6BCF\u4E2A\u5B9E\u4F8B\u90FD\u6709\u5B83\u81EA\u5DF1\u7684\u5C5E\u6027. \u5982\u4E0B\u6240\u793A.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token comment">//\u7EE7\u627F\u5B9E\u4F8B\u5C5E\u6027\uFF0C\u7B2C\u4E00\u6B21\u8C03\u7528Father()</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u7EE7\u627F\u7236\u7C7B\u65B9\u6CD5,\u7B2C\u4E8C\u6B21\u8C03\u7528Father()</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&#39;louis&#39;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green,black&quot;</span>
instance1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//louis</span>
instance1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//5</span>

<span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&#39;zhai&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green&quot;</span>
instance1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//zhai</span>
instance1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>\u7EC4\u5408\u7EE7\u627F\u907F\u514D\u4E86\u539F\u578B\u94FE\u548C\u501F\u7528\u6784\u9020\u51FD\u6570\u7684\u7F3A\u9677,\u878D\u5408\u4E86\u5B83\u4EEC\u7684\u4F18\u70B9,\u6210\u4E3A JavaScript \u4E2D\u6700\u5E38\u7528\u7684\u7EE7\u627F\u6A21\u5F0F. \u800C\u4E14, instanceof \u548C isPrototypeOf( )\u4E5F\u80FD\u7528\u4E8E\u8BC6\u522B\u57FA\u4E8E\u7EC4\u5408\u7EE7\u627F\u521B\u5EFA\u7684\u5BF9\u8C61.</p><p>\u540C\u65F6\u6211\u4EEC\u8FD8\u6CE8\u610F\u5230\u7EC4\u5408\u7EE7\u627F\u5176\u5B9E\u8C03\u7528\u4E86\u4E24\u6B21\u7236\u7C7B\u6784\u9020\u51FD\u6570, \u9020\u6210\u4E86\u4E0D\u5FC5\u8981\u7684\u6D88\u8017, \u90A3\u4E48\u600E\u6837\u624D\u80FD\u907F\u514D\u8FD9\u79CD\u4E0D\u5FC5\u8981\u7684\u6D88\u8017\u5462, \u8FD9\u4E2A\u6211\u4EEC\u5C06\u5728\u540E\u9762\u8BB2\u5230.</p><h3 id="\u539F\u578B\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u539F\u578B\u7EE7\u627F" aria-hidden="true">#</a> \u539F\u578B\u7EE7\u627F</h3><p>\u8BE5\u65B9\u6CD5\u6700\u521D\u7531\u9053\u683C\u62C9\u65AF\xB7\u514B\u7F57\u514B\u798F\u5FB7\u4E8E 2006 \u5E74\u5728\u4E00\u7BC7\u9898\u4E3A \u300APrototypal Inheritance in JavaScript\u300B(JavaScript \u4E2D\u7684\u539F\u578B\u5F0F\u7EE7\u627F) \u7684\u6587\u7AE0\u4E2D\u63D0\u51FA. \u4ED6\u7684\u60F3\u6CD5\u662F\u501F\u52A9\u539F\u578B\u53EF\u4EE5\u57FA\u4E8E\u5DF2\u6709\u7684\u5BF9\u8C61\u521B\u5EFA\u65B0\u5BF9\u8C61\uFF0C \u540C\u65F6\u8FD8\u4E0D\u5FC5\u56E0\u6B64\u521B\u5EFA\u81EA\u5B9A\u4E49\u7C7B\u578B. \u5927\u610F\u5982\u4E0B:</p><blockquote><p>\u5728 object()\u51FD\u6570\u5185\u90E8, \u5148\u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u6027\u7684\u6784\u9020\u51FD\u6570, \u7136\u540E\u5C06\u4F20\u5165\u7684\u5BF9\u8C61\u4F5C\u4E3A\u8FD9\u4E2A\u6784\u9020\u51FD\u6570\u7684\u539F\u578B,\u6700\u540E\u8FD4\u56DE\u4E86\u8FD9\u4E2A\u4E34\u65F6\u7C7B\u578B\u7684\u4E00\u4E2A\u65B0\u5B9E\u4F8B.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4ECE\u672C\u8D28\u4E0A\u8BB2, object() \u8FD4\u56DE\u4E86\u4E00\u4E2A\u5F15\u7528\u4F20\u5165\u5BF9\u8C61\u7684\u65B0\u5BF9\u8C61. \u8FD9\u6837\u53EF\u80FD\u5E26\u6765\u4E00\u4E9B\u5171\u4EAB\u6570\u636E\u7684\u95EE\u9898\uFF0C\u5982\u4E0B.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">friends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Van&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Louis&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Nick&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> anotherPerson <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
anotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;Rob&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> yetAnotherPerson <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
yetAnotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;Style&#39;</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>friends<span class="token punctuation">)</span> <span class="token comment">//&quot;Van,Louis,Nick,Rob,Style&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D,\u53EF\u4EE5\u4F5C\u4E3A\u53E6\u4E00\u4E2A\u5BF9\u8C61\u57FA\u7840\u7684\u662F person \u5BF9\u8C61,\u4E8E\u662F\u6211\u4EEC\u628A\u5B83\u4F20\u5165\u5230 object()\u51FD\u6570\u4E2D,\u7136\u540E\u8BE5\u51FD\u6570\u5C31\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u5BF9\u8C61. \u8FD9\u4E2A\u65B0\u5BF9\u8C61\u5C06 person \u4F5C\u4E3A\u539F\u578B,\u56E0\u6B64\u5B83\u7684\u539F\u578B\u4E2D\u5C31\u5305\u542B\u5F15\u7528\u7C7B\u578B\u503C\u5C5E\u6027. \u8FD9\u610F\u5473\u7740 person.friends \u4E0D\u4EC5\u5C5E\u4E8E person \u6240\u6709,\u800C\u4E14\u4E5F\u4F1A\u88AB anotherPerson \u4EE5\u53CA yetAnotherPerson \u5171\u4EAB.</p><p>\u5728 ECMAScript5 \u4E2D,\u901A\u8FC7\u65B0\u589E <strong>object.create()</strong> \u65B9\u6CD5\u89C4\u8303\u5316\u4E86\u4E0A\u9762\u7684\u539F\u578B\u5F0F\u7EE7\u627F.</p><p><strong>object.create()</strong> \u63A5\u6536\u4E24\u4E2A\u53C2\u6570:</p><ul><li>\u4E00\u4E2A\u7528\u4F5C\u65B0\u5BF9\u8C61\u539F\u578B\u7684\u5BF9\u8C61</li><li>(\u53EF\u9009\u7684)\u4E00\u4E2A\u4E3A\u65B0\u5BF9\u8C61\u5B9A\u4E49\u989D\u5916\u5C5E\u6027\u7684\u5BF9\u8C61</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">friends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Van&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Louis&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Nick&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> anotherPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
anotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;Rob&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> yetAnotherPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
yetAnotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;Style&#39;</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>friends<span class="token punctuation">)</span> <span class="token comment">//&quot;Van,Louis,Nick,Rob,Style&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>object.create()</strong> \u53EA\u6709\u4E00\u4E2A\u53C2\u6570\u65F6\u529F\u80FD\u4E0E\u4E0A\u8FF0 object \u65B9\u6CD5\u76F8\u540C, \u5B83\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E0E Object.defineProperties()\u65B9\u6CD5\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u683C\u5F0F\u76F8\u540C: \u6BCF\u4E2A\u5C5E\u6027\u90FD\u662F\u901A\u8FC7\u81EA\u5DF1\u7684\u63CF\u8FF0\u7B26\u5B9A\u4E49\u7684.\u4EE5\u8FD9\u79CD\u65B9\u5F0F\u6307\u5B9A\u7684\u4EFB\u4F55\u5C5E\u6027\u90FD\u4F1A\u8986\u76D6\u539F\u578B\u5BF9\u8C61\u4E0A\u7684\u540C\u540D\u5C5E\u6027.\u4F8B\u5982:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Van&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> anotherPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;Louis&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>anotherPerson<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">//&quot;Louis&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u76EE\u524D\u652F\u6301 <strong>Object.create()</strong> \u7684\u6D4F\u89C8\u5668\u6709 IE9+, Firefox 4+, Safari 5+, Opera 12+ \u548C Chrome.</p><p><strong>\u63D0\u9192:</strong> \u539F\u578B\u5F0F\u7EE7\u627F\u4E2D, \u5305\u542B\u5F15\u7528\u7C7B\u578B\u503C\u7684\u5C5E\u6027\u59CB\u7EC8\u90FD\u4F1A\u5171\u4EAB\u76F8\u5E94\u7684\u503C, \u5C31\u50CF\u4F7F\u7528\u539F\u578B\u6A21\u5F0F\u4E00\u6837.</p><h3 id="\u5BC4\u751F\u5F0F\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u5BC4\u751F\u5F0F\u7EE7\u627F" aria-hidden="true">#</a> \u5BC4\u751F\u5F0F\u7EE7\u627F</h3><p>\u5BC4\u751F\u5F0F\u7EE7\u627F\u662F\u4E0E\u539F\u578B\u5F0F\u7EE7\u627F\u7D27\u5BC6\u76F8\u5173\u7684\u4E00\u79CD\u601D\u8DEF\uFF0C \u540C\u6837\u662F\u514B\u7F57\u514B\u798F\u5FB7\u63A8\u800C\u5E7F\u4E4B.</p><blockquote><p>\u5BC4\u751F\u5F0F\u7EE7\u627F\u7684\u601D\u8DEF\u4E0E(\u5BC4\u751F)\u6784\u9020\u51FD\u6570\u548C\u5DE5\u5382\u6A21\u5F0F\u7C7B\u4F3C, \u5373\u521B\u5EFA\u4E00\u4E2A\u4EC5\u7528\u4E8E\u5C01\u88C5\u7EE7\u627F\u8FC7\u7A0B\u7684\u51FD\u6570,\u8BE5\u51FD\u6570\u5728\u5185\u90E8\u4EE5\u67D0\u79CD\u65B9\u5F0F\u6765\u589E\u5F3A\u5BF9\u8C61,\u6700\u540E\u518D\u50CF\u771F\u7684\u662F\u5B83\u505A\u4E86\u6240\u6709\u5DE5\u4F5C\u4E00\u6837\u8FD4\u56DE\u5BF9\u8C61. \u5982\u4E0B.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createAnother</span><span class="token punctuation">(</span><span class="token parameter">original</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> clone <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span> <span class="token comment">//\u901A\u8FC7\u8C03\u7528object\u51FD\u6570\u521B\u5EFA\u4E00\u4E2A\u65B0\u5BF9\u8C61</span>
    clone<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u4EE5\u67D0\u79CD\u65B9\u5F0F\u6765\u589E\u5F3A\u8FD9\u4E2A\u5BF9\u8C61</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;hi&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> clone <span class="token comment">//\u8FD4\u56DE\u8FD9\u4E2A\u5BF9\u8C61</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\u7684\u4EE3\u7801\u57FA\u4E8E person \u8FD4\u56DE\u4E86\u4E00\u4E2A\u65B0\u5BF9\u8C61--anotherPerson. \u65B0\u5BF9\u8C61\u4E0D\u4EC5\u5177\u6709 person \u7684\u6240\u6709\u5C5E\u6027\u548C\u65B9\u6CD5, \u800C\u4E14\u8FD8\u88AB\u589E\u5F3A\u4E86, \u62E5\u6709\u4E86 sayH()\u65B9\u6CD5.</p><p><strong>\u6CE8\u610F:</strong> \u4F7F\u7528\u5BC4\u751F\u5F0F\u7EE7\u627F\u6765\u4E3A\u5BF9\u8C61\u6DFB\u52A0\u51FD\u6570, \u4F1A\u7531\u4E8E\u4E0D\u80FD\u505A\u5230\u51FD\u6570\u590D\u7528\u800C\u964D\u4F4E\u6548\u7387;\u8FD9\u4E00\u70B9\u4E0E\u6784\u9020\u51FD\u6570\u6A21\u5F0F\u7C7B\u4F3C.</p><h3 id="\u5BC4\u751F\u7EC4\u5408\u5F0F\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u5BC4\u751F\u7EC4\u5408\u5F0F\u7EE7\u627F" aria-hidden="true">#</a> \u5BC4\u751F\u7EC4\u5408\u5F0F\u7EE7\u627F</h3><p>\u524D\u9762\u8BB2\u8FC7,\u7EC4\u5408\u7EE7\u627F\u662F JavaScript \u6700\u5E38\u7528\u7684\u7EE7\u627F\u6A21\u5F0F; \u4E0D\u8FC7, \u5B83\u4E5F\u6709\u81EA\u5DF1\u7684\u4E0D\u8DB3. \u7EC4\u5408\u7EE7\u627F\u6700\u5927\u7684\u95EE\u9898\u5C31\u662F\u65E0\u8BBA\u4EC0\u4E48\u60C5\u51B5\u4E0B,\u90FD\u4F1A\u8C03\u7528\u4E24\u6B21\u7236\u7C7B\u6784\u9020\u51FD\u6570: \u4E00\u6B21\u662F\u5728\u521B\u5EFA\u5B50\u7C7B\u578B\u539F\u578B\u7684\u65F6\u5019, \u53E6\u4E00\u6B21\u662F\u5728\u5B50\u7C7B\u578B\u6784\u9020\u51FD\u6570\u5185\u90E8. <strong>\u5BC4\u751F\u7EC4\u5408\u5F0F\u7EE7\u627F\u5C31\u662F\u4E3A\u4E86\u964D\u4F4E\u8C03\u7528\u7236\u7C7B\u6784\u9020\u51FD\u6570\u7684\u5F00\u9500\u800C\u51FA\u73B0\u7684</strong> .</p><blockquote><p>\u5176\u80CC\u540E\u7684\u57FA\u672C\u601D\u8DEF\u662F: \u4E0D\u5FC5\u4E3A\u4E86\u6307\u5B9A\u5B50\u7C7B\u578B\u7684\u539F\u578B\u800C\u8C03\u7528\u8D85\u7C7B\u578B\u7684\u6784\u9020\u51FD\u6570</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">subClass<span class="token punctuation">,</span> superClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> prototype <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">//\u521B\u5EFA\u5BF9\u8C61</span>
    prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> subClass <span class="token comment">//\u589E\u5F3A\u5BF9\u8C61</span>
    subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> prototype <span class="token comment">//\u6307\u5B9A\u5BF9\u8C61</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>extend \u7684\u9AD8\u6548\u7387\u4F53\u73B0\u5728\u5B83\u6CA1\u6709\u8C03\u7528 superClass \u6784\u9020\u51FD\u6570,\u56E0\u6B64\u907F\u514D\u4E86\u5728 subClass.prototype \u4E0A\u9762\u521B\u5EFA\u4E0D\u5FC5\u8981,\u591A\u4F59\u7684\u5C5E\u6027. \u4E8E\u6B64\u540C\u65F6,\u539F\u578B\u94FE\u8FD8\u80FD\u4FDD\u6301\u4E0D\u53D8; \u56E0\u6B64\u8FD8\u80FD\u6B63\u5E38\u4F7F\u7528 instanceof \u548C isPrototypeOf() \u65B9\u6CD5.</p><p>\u4EE5\u4E0A,\u5BC4\u751F\u7EC4\u5408\u5F0F\u7EE7\u627F,\u96C6\u5BC4\u751F\u5F0F\u7EE7\u627F\u548C\u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u70B9\u4E8E\u4E00\u8EAB,\u662F\u5B9E\u73B0\u57FA\u4E8E\u7C7B\u578B\u7EE7\u627F\u7684\u6700\u6709\u6548\u65B9\u6CD5.</p><hr><p>\u4E0B\u9762\u6211\u4EEC\u6765\u770B\u4E0B extend \u7684\u53E6\u4E00\u79CD\u66F4\u4E3A\u6709\u6548\u7684\u6269\u5C55.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">subClass<span class="token punctuation">,</span> superClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype
    subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    subClass<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> subClass

    subClass<span class="token punctuation">.</span>superclass <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype
    <span class="token keyword">if</span> <span class="token punctuation">(</span>superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">==</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> superClass
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u6211\u4E00\u76F4\u4E0D\u592A\u660E\u767D\u7684\u662F\u4E3A\u4EC0\u4E48\u8981 &quot;<strong>new F()</strong>&quot;, \u65E2\u7136 extend \u7684\u76EE\u7684\u662F\u5C06\u5B50\u7C7B\u578B\u7684 prototype \u6307\u5411\u8D85\u7C7B\u578B\u7684 prototype,\u4E3A\u4EC0\u4E48\u4E0D\u76F4\u63A5\u505A\u5982\u4E0B\u64CD\u4F5C\u5462?</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype <span class="token comment">//\u76F4\u63A5\u6307\u5411\u8D85\u7C7B\u578Bprototype</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u663E\u7136, \u57FA\u4E8E\u5982\u4E0A\u64CD\u4F5C, \u5B50\u7C7B\u578B\u539F\u578B\u5C06\u4E0E\u8D85\u7C7B\u578B\u539F\u578B\u5171\u7528, \u6839\u672C\u5C31\u6CA1\u6709\u7EE7\u627F\u5173\u7CFB.</p><h3 id="new-\u8FD0\u7B97\u7B26" tabindex="-1"><a class="header-anchor" href="#new-\u8FD0\u7B97\u7B26" aria-hidden="true">#</a> new \u8FD0\u7B97\u7B26</h3><p>\u4E3A\u4E86\u8FFD\u672C\u6EAF\u6E90, \u6211\u987A\u4FBF\u7814\u7A76\u4E86 new \u8FD0\u7B97\u7B26\u5177\u4F53\u5E72\u4E86\u4EC0\u4E48?\u53D1\u73B0\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u5C31\u5E72\u4E86\u4E09\u4EF6\u4E8B\u60C5.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">F</span><span class="token punctuation">.</span>prototype
<span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u7B2C\u4E00\u884C\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A\u7A7A\u5BF9\u8C61 obj;</p><p>\u7B2C\u4E8C\u884C\uFF0C\u6211\u4EEC\u5C06\u8FD9\u4E2A\u7A7A\u5BF9\u8C61\u7684__proto__\u6210\u5458\u6307\u5411\u4E86 F \u51FD\u6570\u5BF9\u8C61 prototype \u6210\u5458\u5BF9\u8C61;</p><p>\u7B2C\u4E09\u884C\uFF0C\u6211\u4EEC\u5C06 F \u51FD\u6570\u5BF9\u8C61\u7684 this \u6307\u9488\u66FF\u6362\u6210 obj\uFF0C\u7136\u540E\u518D\u8C03\u7528 F \u51FD\u6570.</p><p>\u6211\u4EEC\u53EF\u4EE5\u8FD9\u4E48\u7406\u89E3: \u4EE5 new \u64CD\u4F5C\u7B26\u8C03\u7528\u6784\u9020\u51FD\u6570\u7684\u65F6\u5019\uFF0C\u51FD\u6570\u5185\u90E8\u5B9E\u9645\u4E0A\u53D1\u751F\u4EE5\u4E0B\u53D8\u5316\uFF1A</p><p>1\u3001\u521B\u5EFA\u4E00\u4E2A\u7A7A\u5BF9\u8C61\uFF0C\u5E76\u4E14 this \u53D8\u91CF\u5F15\u7528\u8BE5\u5BF9\u8C61\uFF0C\u540C\u65F6\u8FD8\u7EE7\u627F\u4E86\u8BE5\u51FD\u6570\u7684\u539F\u578B\u3002</p><p>2\u3001\u5C5E\u6027\u548C\u65B9\u6CD5\u88AB\u52A0\u5165\u5230 this \u5F15\u7528\u7684\u5BF9\u8C61\u4E2D\u3002</p><p>3\u3001\u65B0\u521B\u5EFA\u7684\u5BF9\u8C61\u7531 this \u6240\u5F15\u7528\uFF0C\u5E76\u4E14\u6700\u540E\u9690\u5F0F\u7684\u8FD4\u56DE this.</p><h3 id="proto-\u5C5E\u6027\u662F\u6307\u5B9A\u539F\u578B\u7684\u5173\u952E" tabindex="-1"><a class="header-anchor" href="#proto-\u5C5E\u6027\u662F\u6307\u5B9A\u539F\u578B\u7684\u5173\u952E" aria-hidden="true">#</a> __proto__ \u5C5E\u6027\u662F\u6307\u5B9A\u539F\u578B\u7684\u5173\u952E</h3><p>\u4EE5\u4E0A, \u901A\u8FC7\u8BBE\u7F6E __proto__ \u5C5E\u6027\u7EE7\u627F\u4E86\u7236\u7C7B, \u5982\u679C\u53BB\u6389 new \u64CD\u4F5C, \u76F4\u63A5\u53C2\u8003\u5982\u4E0B\u5199\u6CD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype <span class="token comment">//\u76F4\u63A5\u6307\u5411\u8D85\u7C7B\u578Bprototype</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u90A3\u4E48, \u4F7F\u7528 instanceof \u65B9\u6CD5\u5224\u65AD\u5BF9\u8C61\u662F\u5426\u662F\u6784\u9020\u5668\u7684\u5B9E\u4F8B\u65F6, \u5C06\u4F1A\u51FA\u73B0\u7D0A\u4E71.</p><p>\u5047\u5982\u53C2\u8003\u5982\u4E0A\u5199\u6CD5, \u90A3\u4E48 extend \u4EE3\u7801\u5E94\u8BE5\u4E3A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">subClass<span class="token punctuation">,</span> superClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype

    subClass<span class="token punctuation">.</span>superclass <span class="token operator">=</span> superClass<span class="token punctuation">.</span>prototype
    <span class="token keyword">if</span> <span class="token punctuation">(</span>superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">==</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> superClass
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6B64\u65F6, \u8BF7\u770B\u5982\u4E0B\u6D4B\u8BD5:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">extend</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>c \u88AB\u8BA4\u4E3A\u662F a \u7684\u5B9E\u4F8B\u53EF\u4EE5\u7406\u89E3, \u4E5F\u662F\u5BF9\u7684; \u4F46 c \u5374\u88AB\u8BA4\u4E3A\u4E5F\u662F b \u7684\u5B9E\u4F8B, \u8FD9\u5C31\u4E0D\u5BF9\u4E86. \u7A76\u5176\u539F\u56E0, instanceof \u64CD\u4F5C\u7B26\u6BD4\u8F83\u7684\u5E94\u8BE5\u662F c.__proto__ \u4E0E \u6784\u9020\u5668.prototype(\u5373 b.prototype \u6216 a.prototype) \u8FD9\u4E24\u8005\u662F\u5426\u76F8\u7B49, \u53C8 extend(b,a); \u5219 b.prototype === a.prototype, \u6545\u8FD9\u624D\u6253\u5370\u51FA\u4E0A\u8FF0\u4E0D\u5408\u7406\u7684\u8F93\u51FA.</p><hr><p>\u90A3\u4E48\u6700\u7EC8,\u539F\u578B\u94FE\u7EE7\u627F\u53EF\u4EE5\u8FD9\u4E48\u5B9E\u73B0,\u4F8B\u5982:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token comment">//\u7EE7\u627F\u5B9E\u4F8B\u5C5E\u6027\uFF0C\u7B2C\u4E00\u6B21\u8C03\u7528Father()</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>
<span class="token function">extend</span><span class="token punctuation">(</span>Son<span class="token punctuation">,</span> Father<span class="token punctuation">)</span> <span class="token comment">//\u7EE7\u627F\u7236\u7C7B\u65B9\u6CD5,\u6B64\u5904\u5E76\u4E0D\u4F1A\u7B2C\u4E8C\u6B21\u8C03\u7528Father()</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&#39;louis&#39;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green,black&quot;</span>
instance1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//louis</span>
instance1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//5</span>

<span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&#39;zhai&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span> <span class="token comment">//&quot;red,blue,green&quot;</span>
instance1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//zhai</span>
instance1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><hr><h3 id="\u6269\u5C55" tabindex="-1"><a class="header-anchor" href="#\u6269\u5C55" aria-hidden="true">#</a> \u6269\u5C55:</h3><h4 id="\u5C5E\u6027\u67E5\u627E" tabindex="-1"><a class="header-anchor" href="#\u5C5E\u6027\u67E5\u627E" aria-hidden="true">#</a> \u5C5E\u6027\u67E5\u627E</h4><p>\u200B \u4F7F\u7528\u4E86\u539F\u578B\u94FE\u540E, \u5F53\u67E5\u627E\u4E00\u4E2A\u5BF9\u8C61\u7684\u5C5E\u6027\u65F6\uFF0CJavaScript \u4F1A\u5411\u4E0A\u904D\u5386\u539F\u578B\u94FE\uFF0C\u76F4\u5230\u627E\u5230\u7ED9\u5B9A\u540D\u79F0\u7684\u5C5E\u6027\u4E3A\u6B62\uFF0C\u5230\u67E5\u627E\u5230\u8FBE\u539F\u578B\u94FE\u7684\u9876\u90E8 - \u4E5F\u5C31\u662F Object.prototype - \u4F46\u662F\u4ECD\u7136\u6CA1\u6709\u627E\u5230\u6307\u5B9A\u7684\u5C5E\u6027\uFF0C\u5C31\u4F1A\u8FD4\u56DE undefined. \u6B64\u65F6\u82E5\u60F3\u907F\u514D\u539F\u578B\u94FE\u67E5\u627E, \u5EFA\u8BAE\u4F7F\u7528 <strong>hasOwnProperty</strong> \u65B9\u6CD5. \u56E0\u4E3A <strong>hasOwnProperty</strong> \u662F JavaScript \u4E2D\u552F\u4E00\u4E00\u4E2A\u5904\u7406\u5C5E\u6027\u4F46\u662F\u4E0D\u67E5\u627E\u539F\u578B\u94FE\u7684\u51FD\u6570. \u5982:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5BF9\u6BD4: <strong>isPrototypeOf</strong> \u5219\u662F\u7528\u6765\u5224\u65AD\u8BE5\u65B9\u6CD5\u6240\u5C5E\u7684\u5BF9\u8C61\u662F\u4E0D\u662F\u53C2\u6570\u7684\u539F\u578B\u5BF9\u8C61\uFF0C\u662F\u5219\u8FD4\u56DE true\uFF0C\u5426\u5219\u8FD4\u56DE false\u3002\u5982:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>instance1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="instanceof-typeof" tabindex="-1"><a class="header-anchor" href="#instanceof-typeof" aria-hidden="true">#</a> instanceof &amp;&amp; typeof</h4><p>\u4E0A\u9762\u63D0\u5230\u51E0\u6B21\u63D0\u5230 instanceof \u8FD0\u7B97\u7B26. \u90A3\u4E48\u5230\u5E95\u5B83\u662F\u600E\u4E48\u73A9\u7684\u5462? \u4E0B\u9762\u8BA9\u6211\u4EEC\u6765\u8DB4\u4E00\u8DB4\u5B83\u7684\u4F7F\u7528\u573A\u666F.</p><p><strong>instanceof</strong> \u8FD0\u7B97\u7B26\u662F\u7528\u6765\u5728\u8FD0\u884C\u65F6\u6307\u51FA\u5BF9\u8C61\u662F\u5426\u662F\u6784\u9020\u5668\u7684\u4E00\u4E2A\u5B9E\u4F8B, \u4F8B\u5982\u6F0F\u5199\u4E86 new \u8FD0\u7B97\u7B26\u53BB\u8C03\u7528\u67D0\u4E2A\u6784\u9020\u5668, \u6B64\u65F6\u6784\u9020\u5668\u5185\u90E8\u53EF\u4EE5\u901A\u8FC7 instanceof \u6765\u5224\u65AD.(java \u4E2D\u529F\u80FD\u7C7B\u4F3C)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">arguments<span class="token punctuation">.</span>callee</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6B64\u5904\u4F5C\u4E3A\u6784\u9020\u51FD\u6570\u88AB\u8C03\u7528&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6B64\u5904\u4F5C\u4E3A\u666E\u901A\u51FD\u6570\u88AB\u8C03\u7528&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u6B64\u5904\u4F5C\u4E3A\u666E\u901A\u51FD\u6570\u88AB\u8C03\u7528</span>
<span class="token keyword">new</span> <span class="token class-name">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u6B64\u5904\u4F5C\u4E3A\u6784\u9020\u51FD\u6570\u88AB\u8C03\u7528</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,114),h=s("\u4EE5\u4E0A, this instanceof "),g={href:"https://link.juejin.cn/?target=http%3A%2F%2Flouiszhai.github.io%2F2015%2F12%2F15%2Farguments%2F",title:"http://louiszhai.github.io/2015/12/15/arguments/",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"arguments",-1),y=s(".callee \u7684\u503C\u5982\u679C\u4E3A true \u8868\u793A\u662F\u4F5C\u4E3A\u6784\u9020\u51FD\u6570\u88AB\u8C03\u7528\u7684,\u5982\u679C\u4E3A false \u5219\u8868\u793A\u662F\u4F5C\u4E3A\u666E\u901A\u51FD\u6570\u88AB\u8C03\u7528\u7684\u3002"),v=n("p",null,[s("\u5BF9\u6BD4: "),n("strong",null,"typeof"),s(" \u5219\u7528\u4EE5\u83B7\u53D6\u4E00\u4E2A\u53D8\u91CF\u6216\u8005\u8868\u8FBE\u5F0F\u7684\u7C7B\u578B, \u4E00\u822C\u53EA\u80FD\u8FD4\u56DE\u5982\u4E0B\u51E0\u4E2A\u7ED3\u679C:")],-1),w=n("p",null,"number,boolean,string,function\uFF08\u51FD\u6570\uFF09,object\uFF08NULL,\u6570\u7EC4\uFF0C\u5BF9\u8C61\uFF09,undefined\u3002",-1),j=n("h4",{id:"new-\u8FD0\u7B97\u7B26-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#new-\u8FD0\u7B97\u7B26-1","aria-hidden":"true"},"#"),s(" new \u8FD0\u7B97\u7B26")],-1),_=s("\u6B64\u5904\u5F15\u7528 \u827E\u4F26\u7684 "),F={href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.cnblogs.com%2Faaronjs%2Farchive%2F2012%2F07%2F04%2F2575570.html",title:"http://www.cnblogs.com/aaronjs/archive/2012/07/04/2575570.html",target:"_blank",rel:"noopener noreferrer"},x=s("JS \u5BF9\u8C61\u673A\u5236\u6DF1\u5256\u2014\u2014new \u8FD0\u7B97\u7B26"),S=n("p",null,[s("\u63A5\u7740\u4E0A\u8FF0\u5BF9 new \u8FD0\u7B97\u7B26\u7684\u7814\u7A76, \u6211\u4EEC\u6765\u8003\u5BDF ECMAScript \u8BED\u8A00\u89C4\u8303\u4E2D "),n("strong",null,"new"),s(" \u8FD0\u7B97\u7B26\u7684\u5B9A\u4E49\uFF1A")],-1),C=n("p",null,"The new Operator",-1),q=s("The production "),O=n("em",null,"NewExpression : new NewExpression",-1),P=s(" is evaluated as follows:Evaluate NewExpression.Call GetValue(Result(1)).If Type(Result(2)) is not Object, throw a TypeError exception.If Result(2) does not implement the internal ["),A={href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.pushiming.com%2Fblog%2F2009%2F10%2Fthe-new-operator%2F%23appendix",title:"http://www.pushiming.com/blog/2009/10/the-new-operator/#appendix",target:"_blank",rel:"noopener noreferrer"},N=s("[Construc]]"),E=s(" method, throw a TypeError exception.Call the [[Construct]] method on Result(2), providing no arguments (that is, an empty list of arguments).Return Result(5)."),J=t(`<p>\u5176\u5927\u610F\u662F\uFF0Cnew \u540E\u5FC5\u987B\u8DDF\u4E00\u4E2A\u5BF9\u8C61\u5E76\u4E14\u6B64\u5BF9\u8C61\u5FC5\u987B\u6709\u4E00\u4E2A\u540D\u4E3A [[Construct]] \u7684\u5185\u90E8\u65B9\u6CD5\uFF08\u5176\u5B9E\u8FD9\u79CD\u5BF9\u8C61\u5C31\u662F\u6784\u9020\u5668\uFF09\uFF0C\u5426\u5219\u4F1A\u629B\u51FA\u5F02\u5E38</p><p>\u6839\u636E\u8FD9\u4E9B\u5185\u5BB9\uFF0C\u6211\u4EEC\u5B8C\u5168\u53EF\u4EE5\u6784\u9020\u4E00\u4E2A\u4F2A [[Construct]] \u65B9\u6CD5\u6765\u6A21\u62DF\u6B64\u6D41\u7A0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">MyObject</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

MyObject<span class="token punctuation">.</span><span class="token function-variable function">construct</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        Constructor <span class="token operator">=</span> MyObject
    o<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype
    <span class="token comment">// FF \u652F\u6301\u7528\u6237\u5F15\u7528\u5185\u90E8\u5C5E\u6027 [[Prototype]]</span>
    <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
    <span class="token keyword">return</span> o
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyObject</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> MyObject<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>obj2 <span class="token keyword">instanceof</span> <span class="token class-name">MyObject</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u53C2\u8003:</p>`,4),V=n("li",null,"\u300AJavaScript \u9AD8\u7EA7\u7A0B\u5E8F\u8BBE\u8BA1\u300B",-1),L={href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.infoq.com%2Fcn%2Farticles%2Fjavascript-instantiation-and-inheritance%2F",title:"http://www.infoq.com/cn/articles/javascript-instantiation-and-inheritance/",target:"_blank",rel:"noopener noreferrer"},M=s("JavaScript \u7684\u5B9E\u4F8B\u5316\u4E0E\u7EE7\u627F\uFF1A\u8BF7\u505C\u6B62\u4F7F\u7528 new \u5173\u952E\u5B57"),R={href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.cnblogs.com%2FTomXu%2Farchive%2F2012%2F01%2F05%2F2305453.html",title:"http://www.cnblogs.com/TomXu/archive/2012/01/05/2305453.html",target:"_blank",rel:"noopener noreferrer"},z=s("\u6DF1\u5165\u7406\u89E3 JavaScript \u7CFB\u5217\uFF085\uFF09\uFF1A\u5F3A\u5927\u7684\u539F\u578B\u548C\u539F\u578B\u94FE - \u6C64\u59C6\u5927\u53D4 - \u535A\u5BA2\u56ED"),T=s("\u672C\u6587\u8F6C\u81EA "),I={href:"https://juejin.cn/post/6844903475021627400",target:"_blank",rel:"noopener noreferrer"},B=s("https://juejin.cn/post/6844903475021627400"),H=s("\uFF0C\u5982\u6709\u4FB5\u6743\uFF0C\u8BF7\u8054\u7CFB\u5220\u9664\u3002");function X(G,U){const a=e("ExternalLinkIcon");return o(),c(l,null,[i,n("p",null,[k,n("a",b,[d,p(a)])]),m,n("p",null,[h,n("a",g,[f,p(a)]),y]),v,w,j,n("p",null,[_,n("a",F,[x,p(a)])]),S,C,n("blockquote",null,[n("p",null,[q,O,P,n("a",A,[N,p(a)]),E])]),J,n("ul",null,[V,n("li",null,[n("a",L,[M,p(a)])]),n("li",null,[n("a",R,[z,p(a)])])]),n("p",null,[T,n("a",I,[B,p(a)]),H])],64)}var Q=u(r,[["render",X]]);export{Q as default};
